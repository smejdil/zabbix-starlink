zabbix_export:
  version: '6.0'
  date: '2023-05-16T19:46:45Z'
  groups:
    -
      uuid: 7df96b18c230490a9a0a9e2307226338
      name: Templates
  templates:
    -
      uuid: e2ad303926fd4dde825d4ecc3c5842a5
      template: 'Starlink dish by Prom'
      name: 'Starlink dish by Prom'
      description: |
        Use project Python starlink-grpc-tools
        
        https://github.com/sparky8512/starlink-grpc-tools
        
        Run Starlink exporter:
        python dish_grpc_prometheus.py status alert_detail
      groups:
        -
          name: Templates
      items:
        -
          uuid: 490191c0b03b48eaa06c028dca4cf77a
          name: 'Starlink alerts'
          type: DEPENDENT
          key: starlink.alerts
          delay: '0'
          value_type: FLOAT
          description: 'A bit field combining all active alerts, where a 1 bit indicates the alert is active. See alert detail status data for which bits correspond with each alert, or to get individual alert flags instead of a combined bit mask.'
          valuemap:
            name: 'Starlink alerts codes'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alerts"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
          triggers:
            -
              uuid: 97349d6f7d794f17b74e17f6c0c76d1a
              expression: 'last(/Starlink dish by Prom/starlink.alerts,#3)>0'
              name: 'Starlink alert'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: INFO
              description: 'Starlink alert. Ack to close'
              manual_close: 'YES'
              dependencies:
                -
                  name: 'Starlink alert install pending'
                  expression: 'last(/Starlink dish by Prom/starlink.status_alert_install_pending,#3)=1'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: 9babc02e28b44ed7a93ed16aac7091fd
          name: 'Starlink currently obstructed'
          type: DEPENDENT
          key: starlink.currently_obstructed
          delay: '0'
          value_type: FLOAT
          description: 'Most recent sample value. See *obstructed* in bulk history data for detail. This item still appears to be reported by the user terminal despite no longer appearing in the bulk history data.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_currently_obstructed"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: obstructed
        -
          uuid: 89fcc63a1d6b4a2f902bb9370dd96b37
          name: 'Starlink direction azimuth'
          type: DEPENDENT
          key: starlink.direction_azimuth
          delay: '0'
          value_type: FLOAT
          description: 'Azimuth angle, in degrees, of the direction in which the user terminal''s dish antenna is physically pointing. Note that this generally is not the exact direction of the satellite with which the user terminal is communicating.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_direction_azimuth"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: eb6b9ca7f7a741d8aecd97cc062ff4c1
          name: 'Starlink direction elevation'
          type: DEPENDENT
          key: starlink.direction_elevation
          delay: '0'
          value_type: FLOAT
          description: 'Elevation angle, in degrees, of the direction in which the user terminal''s dish antenna is physically pointing.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_direction_elevation"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: a88255d0cb2d4850b2914582c482ad5e
          name: 'Starlink downlink throughput bps'
          type: DEPENDENT
          key: starlink.downlink
          delay: '0'
          value_type: FLOAT
          units: bps
          description: 'Most recent sample value. See bulk history data for detail.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_downlink_throughput_bps"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: traffic
        -
          uuid: e5862f11edfc46348c960d951c4ee8e3
          name: 'Starlink fraction obstructed'
          type: DEPENDENT
          key: starlink.fraction_obstructed
          delay: '0'
          value_type: FLOAT
          description: 'The fraction of total area (or possibly fraction of time?) that the user terminal has determined to be obstructed between it and the satellites with which it communicates.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_fraction_obstructed"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: obstructed
        -
          uuid: 9815ec77c1f243f083d8dfd3e53217d8
          name: 'Starlink hardware version'
          type: DEPENDENT
          key: starlink.hardware_version
          delay: '0'
          trends: '0'
          value_type: CHAR
          description: 'A string identifying the user terminal hardware version.'
          inventory_link: HARDWARE
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - starlink_info
                - label
                - hardware_version
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: fa460ab4092044ab83b65fe17416bdaa
          name: 'Starlink ID'
          type: DEPENDENT
          key: starlink.id
          delay: '0'
          trends: '0'
          value_type: CHAR
          description: 'A string identifying the specific user terminal device that was reachable from the local network. Something like a serial number.'
          inventory_link: SERIALNO_A
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - starlink_info
                - label
                - id
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: 656285cd14374820950a977b98510a04
          name: 'Starlink obstruction duration'
          type: DEPENDENT
          key: starlink.obstruction_duration
          delay: '0'
          value_type: FLOAT
          description: 'Average consecutive time, in seconds, the user terminal has detected its signal to be obstructed for a period of time that it considers "prolonged", or None if no such obstructions were recorded.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_obstruction_duration"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: fd3fa332f00d4e16837344206d81fb84
          name: 'Starlink obstruction interval'
          type: DEPENDENT
          key: starlink.obstruction_interval
          delay: '0'
          value_type: FLOAT
          description: 'Average time, in seconds, between the start of such "prolonged" obstructions, or None if no such obstructions were recorded.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_obstruction_interval"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: d2229efd6feb4672b924868aedbbe820
          name: 'Starlink ping latency'
          type: DEPENDENT
          key: starlink.ping_latency
          delay: '0'
          value_type: FLOAT
          description: 'Most recent sample value. See bulk history data for detail.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_pop_ping_latency_ms(?:_seconds)?$"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: ping
        -
          uuid: 888d48d2b78f42fc953dedf11748b9da
          name: 'Starlink pop ping drop rate'
          type: DEPENDENT
          key: starlink.pop_ping_drop_rate
          delay: '0'
          value_type: FLOAT
          description: 'Most recent sample value. See bulk history data for detail.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_pop_ping_drop_rate(?:_seconds)?$"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: ping
        -
          uuid: b60f01823e744c7e865d2f190d316e26
          name: 'Starlink seconds obstructed'
          type: DEPENDENT
          key: starlink.seconds_obstructed
          delay: '0'
          value_type: FLOAT
          description: |
            The amount of time within the history buffer, in seconds, that the user terminal determined to be obstructed, regardless of whether or not packets were able to be transmitted or received.
            
            **OBSOLETE**: The user terminal no longer provides this data.
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_seconds_obstructed"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: obstructed
        -
          uuid: 49a99e518203462f96db1561a962d15f
          name: 'Starlink seconds to first nonempty slot'
          type: DEPENDENT
          key: starlink.seconds_to_first_nonempty_slot
          delay: '0'
          value_type: FLOAT
          description: 'Amount of time from now, in seconds, until a satellite will be scheduled to be available for transmit/receive. See also *scheduled* in the bulk history data. May report as a negative number, which appears to indicate unknown time until next satellite scheduled and usually correlates with *state* reporting as other than "CONNECTED".'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_seconds_to_first_nonempty_slot"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: a8829e876b384bd990a606b6b3372dd8
          name: 'Starlink snr above noise floor'
          type: DEPENDENT
          key: starlink.snr_above_noise_floor
          delay: '0'
          value_type: FLOAT
          description: |
            Most recent sample value. See bulk history data for detail.
            
            **OBSOLETE**: The user terminal no longer provides this data.
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_is_snr_above_noise_floor"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: 7f3b4ec2a24e4b298443ac32513f71ff
          name: 'Starlink software version'
          type: DEPENDENT
          key: starlink.software_version
          delay: '0'
          trends: '0'
          value_type: CHAR
          description: 'A string identifying the software currently installed on the user terminal.'
          inventory_link: SOFTWARE
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - starlink_info
                - label
                - software_version
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
          triggers:
            -
              uuid: 65bf2fbf9f91455caf8ce134e8c4e020
              expression: 'last(/Starlink dish by Prom/starlink.software_version,#1)<>last(/Starlink dish by Prom/starlink.software_version,#2) and length(last(/Starlink dish by Prom/starlink.software_version))>0'
              name: 'Starlink firmware has changed'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: INFO
              description: 'Firmware version has changed. Ack to close'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: firmware
                -
                  tag: scope
                  value: notice
        -
          uuid: d3289c7e982f40629cbdc70b87ea9c78
          name: 'Starlink state'
          type: DEPENDENT
          key: starlink.state
          delay: '0'
          trends: '0'
          value_type: CHAR
          description: |
            As string describing the current connectivity state of the user terminal. One of: 
            
            "UNKNOWN", "CONNECTED", "BOOTING", "SEARCHING", "STOWED", "THERMAL_SHUTDOWN", "NO_SATS", "OBSTRUCTED", "NO_DOWNLINK", "NO_PINGS"
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'starlink_status_state{state=~".*"}==1'
                - label
                - state
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
          triggers:
            -
              uuid: 2a6f7a117193430c8f48ddae6d684118
              expression: 'last(/Starlink dish by Prom/starlink.state,#1)<>last(/Starlink dish by Prom/starlink.state,#2) and length(last(/Starlink dish by Prom/starlink.state))>0'
              name: 'Starlink status has changed'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: AVERAGE
              description: 'Status has changed. Ack to close'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: status
        -
          uuid: ae00dfb889df4c36b8b6d9e0cbc1c1a1
          name: 'Starlink status alert install pending'
          type: DEPENDENT
          key: starlink.status_alert_install_pending
          delay: '0'
          description: 'Alert corresponding with bit 7 (bit mask 128) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_install_pending"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
          triggers:
            -
              uuid: 8efae24e732b484b95d2667a3a3ea4a1
              expression: 'last(/Starlink dish by Prom/starlink.status_alert_install_pending,#3)=1'
              name: 'Starlink alert install pending'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Starlink alert install pending. Ack to close'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: 505a92c291594a23bb6b13d58e208206
          name: 'Starlink status alert is heating'
          type: DEPENDENT
          key: starlink.status_alert_is_heating
          delay: '0'
          description: 'Alert corresponding with bit 8 (bit mask 256) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_is_heating"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
          triggers:
            -
              uuid: 0dedc446bd0846ebbea627a589b8ecc8
              expression: 'last(/Starlink dish by Prom/starlink.status_alert_is_heating,#3)=1'
              name: 'Starlink alert Terminal is heating'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: INFO
              description: 'Starlink alert Terminal is heating. Ack to close'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: ff2b1738b347415cb00b64f69141cd83
          name: 'Starlink status alert mast not near vertical'
          type: DEPENDENT
          key: starlink.status_alert_mast_not_near_vertical
          delay: '0'
          description: 'Alert corresponding with bit 4 (bit mask 16) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_mast_not_near_vertical"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
          triggers:
            -
              uuid: b20ee4e790e44154a9afcf57ad3f8b09
              expression: 'last(/Starlink dish by Prom/starlink.status_alert_mast_not_near_vertical,#3)=1'
              name: 'Starlink alert Terminal mast not near vertical'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Starlink alert Terminal mast not near vertical. Ack to close'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: 938388689d834266a0c202486f5b7058
          name: 'Starlink status alert motors stuck'
          type: DEPENDENT
          key: starlink.status_alert_motors_stuck
          delay: '0'
          description: 'Alert corresponding with bit 0 (bit mask 1) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_motors_stuck"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
          triggers:
            -
              uuid: abc8d6d7f5144bacb369344b213c8025
              expression: 'last(/Starlink dish by Prom/starlink.status_alert_motors_stuck,#3)=1'
              name: 'Starlink alert motors stuck'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'Starlink alert motors stuck. Ack to close'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: 9431c27ce3ef4a739d319a05c4f9c096
          name: 'Starlink status alert power supply thermal throttle'
          type: DEPENDENT
          key: starlink.status_alert_power_supply_thermal_throttle
          delay: '0'
          description: 'Alert corresponding with bit 9 (bit mask 512) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_power_supply_thermal_throttle"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
        -
          uuid: 9437b1912305448e9d6de16fa2fb12fc
          name: 'Starlink status alert roaming'
          type: DEPENDENT
          key: starlink.status_alert_roaming
          delay: '0'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_roaming"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
        -
          uuid: 7ef258bbc4c649f1bf436d1d3e3b1e42
          name: 'Starlink status alert slow ethernet speeds'
          type: DEPENDENT
          key: starlink.status_alert_slow_ethernet_speeds
          delay: '0'
          description: 'Alert corresponding with bit 5 (bit mask 32) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_slow_ethernet_speeds"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
        -
          uuid: c0719099ba8c42f3a6a2a12243707b12
          name: 'Starlink status alert thermal shutdown'
          type: DEPENDENT
          key: starlink.status_alert_thermal_shutdown
          delay: '0'
          description: 'Alert corresponding with bit 1 (bit mask 2) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_thermal_shutdown"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
        -
          uuid: 5ebb2ab444014c7481f5abd64a9854c8
          name: 'Starlink status alert thermal throttle'
          type: DEPENDENT
          key: starlink.status_alert_thermal_throttle
          delay: '0'
          description: 'lert corresponding with bit 2 (bit mask 4) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_thermal_throttle"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
        -
          uuid: 1d1544e17a384cc092555450c4eb7039
          name: 'Starlink status alert unexpected location'
          type: DEPENDENT
          key: starlink.status_alert_unexpected_location
          delay: '0'
          description: 'Alert corresponding with bit 3 (bit mask 8) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_unexpected_location"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
        -
          uuid: 80008c2c74a840cb97ebc3e5f70a2127
          name: 'Starlink uplink throughput bps'
          type: DEPENDENT
          key: starlink.uplink
          delay: '0'
          value_type: FLOAT
          units: bps
          description: 'Most recent sample value. See bulk history data for detail.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_uplink_throughput_bps"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: traffic
        -
          uuid: 39895f7a994748c39fef2316364a9c34
          name: 'Starlink uptime'
          type: DEPENDENT
          key: starlink.uptime
          delay: '0'
          value_type: FLOAT
          units: uptime
          description: |
            The amount of time, in seconds, since the user terminal last rebooted.
            
            Starlink uptime in 'N days, hh:mm:ss' format.
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_uptime_seconds(?:_seconds)?$"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
          triggers:
            -
              uuid: a1825c75525848479fd164b46886bb67
              expression: 'last(/Starlink dish by Prom/starlink.uptime)<10m'
              name: '{HOST.NAME} has been restarted (uptime < 10m)'
              priority: WARNING
              description: 'Uptime is less than 10 minutes'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: dc52b491b439466f9c2a51618fb886c1
          name: 'Starlink: Get dish data'
          type: HTTP_AGENT
          key: zbx.starlink.dish.data
          history: '0'
          trends: '0'
          value_type: TEXT
          description: 'Getting data from a starlink prometeus exporter - Python project starlink-grpc-tools.'
          url: '{$STARLINK.SCHEME}://{HOST.CONN}:{$STARLINK.PORT}/metrics'
          tags:
            -
              tag: component
              value: raw
          triggers:
            -
              uuid: 56fca6652a25412199f69cb1d09e55ec
              expression: 'nodata(/Starlink dish by Prom/zbx.starlink.dish.data,30)=1'
              name: 'starlink_exporter is not available (or no data for 30m)'
              priority: HIGH
              description: 'Failed to fetch starlink metrics from starlink_exporter in time.'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: availability
      tags:
        -
          tag: class
          value: hardware
        -
          tag: target
          value: starlink
      macros:
        -
          macro: '{$STARLINK.PORT}'
          value: '8080'
        -
          macro: '{$STARLINK.SCHEME}'
          value: http
      dashboards:
        -
          uuid: 851c6c055ddb43e9908103abe9d54402
          name: 'Starlink status'
          pages:
            -
              name: 'Ping & Alerts'
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '12'
                  height: '6'
                  fields:
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        host: 'Starlink dish by Prom'
                        name: 'Starlink ping'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  width: '12'
                  height: '6'
                  fields:
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        host: 'Starlink dish by Prom'
                        name: 'Starlink alerts'
            -
              name: Status
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '10'
                  height: '6'
                  fields:
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        host: 'Starlink dish by Prom'
                        name: 'Starlink traffic'
                -
                  type: ITEM
                  x: '10'
                  'y': '3'
                  width: '10'
                  height: '3'
                  fields:
                    -
                      type: INTEGER
                      name: show
                      value: '2'
                    -
                      type: INTEGER
                      name: adv_conf
                      value: '1'
                    -
                      type: INTEGER
                      name: decimal_size
                      value: '15'
                    -
                      type: INTEGER
                      name: value_size
                      value: '25'
                    -
                      type: STRING
                      name: value_color
                      value: 0040FF
                    -
                      type: ITEM
                      name: itemid
                      value:
                        host: 'Starlink dish by Prom'
                        key: starlink.software_version
                -
                  type: ITEM
                  x: '10'
                  width: '7'
                  height: '3'
                  fields:
                    -
                      type: INTEGER
                      name: show
                      value: '2'
                    -
                      type: INTEGER
                      name: adv_conf
                      value: '1'
                    -
                      type: STRING
                      name: value_color
                      value: 00FF00
                    -
                      type: ITEM
                      name: itemid
                      value:
                        host: 'Starlink dish by Prom'
                        key: starlink.state
                -
                  type: ITEM
                  x: '17'
                  width: '7'
                  height: '3'
                  fields:
                    -
                      type: INTEGER
                      name: show
                      value: '2'
                    -
                      type: INTEGER
                      name: adv_conf
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        host: 'Starlink dish by Prom'
                        key: starlink.uptime
                -
                  type: ITEM
                  x: '20'
                  'y': '3'
                  width: '4'
                  height: '3'
                  fields:
                    -
                      type: INTEGER
                      name: show
                      value: '2'
                    -
                      type: INTEGER
                      name: adv_conf
                      value: '1'
                    -
                      type: INTEGER
                      name: decimal_places
                      value: '0'
                    -
                      type: INTEGER
                      name: decimal_size
                      value: '25'
                    -
                      type: INTEGER
                      name: value_size
                      value: '35'
                    -
                      type: STRING
                      name: value_color
                      value: FF0000
                    -
                      type: ITEM
                      name: itemid
                      value:
                        host: 'Starlink dish by Prom'
                        key: starlink.alerts
        -
          uuid: 868f261f9c594fd5907f486390e1fde1
          name: 'Starlink traffic'
          pages:
            -
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '24'
                  height: '7'
                  fields:
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        host: 'Starlink dish by Prom'
                        name: 'Starlink traffic'
      valuemaps:
        -
          uuid: 0016f90239ca4adfbcf020a665fc51c3
          name: 'Starlink alert'
          mappings:
            -
              value: '1'
              newvalue: 'On'
            -
              value: '0'
              newvalue: 'Off'
        -
          uuid: 1041e6f2a9194d29a5ef9d1a5b331a55
          name: 'Starlink alerts codes'
          mappings:
            -
              value: '0'
              newvalue: Normal
            -
              value: '1'
              newvalue: 'Motors stuck'
            -
              value: '2'
              newvalue: 'Thermal shutdown'
            -
              value: '4'
              newvalue: 'Thermal throttle'
            -
              value: '8'
              newvalue: 'Unexpected location'
            -
              value: '16'
              newvalue: 'Mast not near vertical'
            -
              value: '32'
              newvalue: 'Slow ethernet speeds'
            -
              value: '64'
              newvalue: Roaming
            -
              value: '128'
              newvalue: 'Install pending'
            -
              value: '256'
              newvalue: 'Is heating'
            -
              value: '257'
              newvalue: 'Unknown ?'
            -
              value: '512'
              newvalue: 'Power supply thermal throttle'
            -
              value: '1024'
              newvalue: 'Is power save idle'
            -
              value: '2048'
              newvalue: 'Moving while not mobile'
            -
              value: '4096'
              newvalue: 'Moving fast while not aviation'
  graphs:
    -
      uuid: 8a6676b22243435fb9338f774dd63170
      name: 'Starlink alerts'
      show_work_period: 'NO'
      show_triggers: 'NO'
      graph_items:
        -
          drawtype: DOTTED_LINE
          color: 199C0D
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_install_pending
        -
          sortorder: '1'
          drawtype: DOTTED_LINE
          color: F63100
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_is_heating
        -
          sortorder: '2'
          drawtype: DOTTED_LINE
          color: 2774A4
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_mast_not_near_vertical
        -
          sortorder: '3'
          drawtype: DOTTED_LINE
          color: F7941D
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_motors_stuck
        -
          sortorder: '4'
          drawtype: DOTTED_LINE
          color: FC6EA3
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_power_supply_thermal_throttle
        -
          sortorder: '5'
          drawtype: DOTTED_LINE
          color: 6C59DC
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_roaming
        -
          sortorder: '6'
          drawtype: DOTTED_LINE
          color: C7A72D
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_slow_ethernet_speeds
        -
          sortorder: '7'
          drawtype: DOTTED_LINE
          color: BA2A5D
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_thermal_shutdown
        -
          sortorder: '8'
          drawtype: DOTTED_LINE
          color: F230E0
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_thermal_throttle
    -
      uuid: da3945762fa045b6a6de3efe4c3ce997
      name: 'Starlink alerts codes'
      show_work_period: 'NO'
      show_triggers: 'NO'
      graph_items:
        -
          drawtype: DOTTED_LINE
          color: FF0000
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.alerts
    -
      uuid: 5f5b09de88ee42eabf6c713470e46ffb
      name: 'Starlink ping'
      graph_items:
        -
          drawtype: BOLD_LINE
          color: 199C0D
          calc_fnc: ALL
          item:
            host: 'Starlink dish by Prom'
            key: starlink.ping_latency
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: F63100
          calc_fnc: ALL
          item:
            host: 'Starlink dish by Prom'
            key: starlink.pop_ping_drop_rate
    -
      uuid: 09ebcd4bb22d419bac27941d1ffb27bf
      name: 'Starlink traffic'
      graph_items:
        -
          drawtype: FILLED_REGION
          color: 199C0D
          calc_fnc: ALL
          item:
            host: 'Starlink dish by Prom'
            key: starlink.downlink
        -
          sortorder: '1'
          drawtype: FILLED_REGION
          color: 0040FF
          calc_fnc: ALL
          item:
            host: 'Starlink dish by Prom'
            key: starlink.uplink
