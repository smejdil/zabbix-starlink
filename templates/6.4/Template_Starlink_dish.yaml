zabbix_export:
  version: '6.4'
  template_groups:
    -
      uuid: 7df96b18c230490a9a0a9e2307226338
      name: Templates
  templates:
    -
      uuid: f6055f57986b400cb905dda680b8bfc4
      template: 'Starlink dish by Prom'
      name: 'Starlink dish by Prom'
      description: |
        Use project Python starlink-grpc-tools
        
        https://github.com/sparky8512/starlink-grpc-tools
        
        Run Starlink exporter:
        python dish_grpc_prometheus.py status alert_detail
      vendor:
        name: Open-Tech
        version: 6.4-0
      groups:
        -
          name: Templates
      items:
        -
          uuid: 23a75a484aa242ebbe8aa8ce7906d1f4
          name: 'Starlink alerts'
          type: DEPENDENT
          key: starlink.alerts
          delay: '0'
          value_type: FLOAT
          description: 'A bit field combining all active alerts, where a 1 bit indicates the alert is active. See alert detail status data for which bits correspond with each alert, or to get individual alert flags instead of a combined bit mask.'
          valuemap:
            name: 'Starlink alerts codes'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alerts"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
          triggers:
            -
              uuid: a1ad84cb677045f293f2f66af9b9fd54
              expression: 'last(/Starlink dish by Prom/starlink.alerts,#3)>0'
              name: 'Starlink alert'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: INFO
              description: 'Starlink alert. Ack to close'
              manual_close: 'YES'
              dependencies:
                -
                  name: 'Starlink alert install pending'
                  expression: 'last(/Starlink dish by Prom/starlink.status_alert_install_pending,#3)=1'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: 36d845fb88a84524b4077a9bc8f15c76
          name: 'Starlink currently obstructed'
          type: DEPENDENT
          key: starlink.currently_obstructed
          delay: '0'
          value_type: FLOAT
          description: 'Most recent sample value. See *obstructed* in bulk history data for detail. This item still appears to be reported by the user terminal despite no longer appearing in the bulk history data.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_currently_obstructed"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: obstructed
        -
          uuid: 19b29b8ef1fc427196567abcd314efea
          name: 'Starlink direction azimuth'
          type: DEPENDENT
          key: starlink.direction_azimuth
          delay: '0'
          value_type: FLOAT
          description: 'Azimuth angle, in degrees, of the direction in which the user terminal''s dish antenna is physically pointing. Note that this generally is not the exact direction of the satellite with which the user terminal is communicating.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_direction_azimuth"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: fb43d683ef274e65b75bd9afa349f933
          name: 'Starlink direction elevation'
          type: DEPENDENT
          key: starlink.direction_elevation
          delay: '0'
          value_type: FLOAT
          description: 'Elevation angle, in degrees, of the direction in which the user terminal''s dish antenna is physically pointing.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_direction_elevation"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: 52bab1a4b4cf4f99bd99019ef612c7b2
          name: 'Starlink downlink throughput bps'
          type: DEPENDENT
          key: starlink.downlink
          delay: '0'
          value_type: FLOAT
          units: bps
          description: 'Most recent sample value. See bulk history data for detail.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_downlink_throughput_bps"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: traffic
        -
          uuid: bfe3d4b905bf42a1a8d9d7a7b8f8f5ef
          name: 'Starlink fraction obstructed'
          type: DEPENDENT
          key: starlink.fraction_obstructed
          delay: '0'
          value_type: FLOAT
          description: 'The fraction of total area (or possibly fraction of time?) that the user terminal has determined to be obstructed between it and the satellites with which it communicates.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_fraction_obstructed"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: obstructed
        -
          uuid: 4173e1a5a24647d5a52354ee5fce84b3
          name: 'Starlink hardware version'
          type: DEPENDENT
          key: starlink.hardware_version
          delay: '0'
          trends: '0'
          value_type: CHAR
          description: 'A string identifying the user terminal hardware version.'
          inventory_link: HARDWARE
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - starlink_info
                - label
                - hardware_version
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: 0975b98eb75c4f1ba94fded1c8587bd0
          name: 'Starlink ID'
          type: DEPENDENT
          key: starlink.id
          delay: '0'
          trends: '0'
          value_type: CHAR
          description: 'A string identifying the specific user terminal device that was reachable from the local network. Something like a serial number.'
          inventory_link: SERIALNO_A
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - starlink_info
                - label
                - id
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: 9b40dcf1fdd5436c92270cc3723cbf9b
          name: 'Starlink obstruction duration'
          type: DEPENDENT
          key: starlink.obstruction_duration
          delay: '0'
          value_type: FLOAT
          description: 'Average consecutive time, in seconds, the user terminal has detected its signal to be obstructed for a period of time that it considers "prolonged", or None if no such obstructions were recorded.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_obstruction_duration"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: db795f37aa7543298ed90da5f86ab238
          name: 'Starlink obstruction interval'
          type: DEPENDENT
          key: starlink.obstruction_interval
          delay: '0'
          value_type: FLOAT
          description: 'Average time, in seconds, between the start of such "prolonged" obstructions, or None if no such obstructions were recorded.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_obstruction_interval"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: ccd54bdcee33414eb4a75340bb4a248c
          name: 'Starlink ping latency'
          type: DEPENDENT
          key: starlink.ping_latency
          delay: '0'
          value_type: FLOAT
          description: 'Most recent sample value. See bulk history data for detail.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_pop_ping_latency_ms(?:_seconds)?$"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: ping
        -
          uuid: 93fafdf8d72f42868dc1e9a75a8d6ebf
          name: 'Starlink pop ping drop rate'
          type: DEPENDENT
          key: starlink.pop_ping_drop_rate
          delay: '0'
          value_type: FLOAT
          description: 'Most recent sample value. See bulk history data for detail.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_pop_ping_drop_rate(?:_seconds)?$"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: ping
        -
          uuid: 47cd286176814f5ea46ca016083c16f9
          name: 'Starlink seconds obstructed'
          type: DEPENDENT
          key: starlink.seconds_obstructed
          delay: '0'
          value_type: FLOAT
          description: |
            The amount of time within the history buffer, in seconds, that the user terminal determined to be obstructed, regardless of whether or not packets were able to be transmitted or received.
            
            **OBSOLETE**: The user terminal no longer provides this data.
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_seconds_obstructed"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: obstructed
        -
          uuid: d9a2dadd53b04cab990a018c1423a6fd
          name: 'Starlink seconds to first nonempty slot'
          type: DEPENDENT
          key: starlink.seconds_to_first_nonempty_slot
          delay: '0'
          value_type: FLOAT
          description: 'Amount of time from now, in seconds, until a satellite will be scheduled to be available for transmit/receive. See also *scheduled* in the bulk history data. May report as a negative number, which appears to indicate unknown time until next satellite scheduled and usually correlates with *state* reporting as other than "CONNECTED".'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_seconds_to_first_nonempty_slot"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: e6773890986e49b9b8276f1072b0d64e
          name: 'Starlink snr above noise floor'
          type: DEPENDENT
          key: starlink.snr_above_noise_floor
          delay: '0'
          value_type: FLOAT
          description: |
            Most recent sample value. See bulk history data for detail.
            
            **OBSOLETE**: The user terminal no longer provides this data.
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_is_snr_above_noise_floor"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
        -
          uuid: 87e7b5bf4eff4124a844e9e23507bc8f
          name: 'Starlink software version'
          type: DEPENDENT
          key: starlink.software_version
          delay: '0'
          trends: '0'
          value_type: CHAR
          description: 'A string identifying the software currently installed on the user terminal.'
          inventory_link: SOFTWARE
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - starlink_info
                - label
                - software_version
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
          triggers:
            -
              uuid: 7e4096730de54400be0339925823520c
              expression: 'last(/Starlink dish by Prom/starlink.software_version,#1)<>last(/Starlink dish by Prom/starlink.software_version,#2) and length(last(/Starlink dish by Prom/starlink.software_version))>0'
              name: 'Starlink firmware has changed'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: INFO
              description: 'Firmware version has changed. Ack to close'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: firmware
                -
                  tag: scope
                  value: notice
        -
          uuid: 8088d0e95ad042d09b237176470c7a6f
          name: 'Starlink state'
          type: DEPENDENT
          key: starlink.state
          delay: '0'
          trends: '0'
          value_type: CHAR
          description: |
            As string describing the current connectivity state of the user terminal. One of: 
            
            "UNKNOWN", "CONNECTED", "BOOTING", "SEARCHING", "STOWED", "THERMAL_SHUTDOWN", "NO_SATS", "OBSTRUCTED", "NO_DOWNLINK", "NO_PINGS"
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'starlink_status_state{state=~".*"}==1'
                - label
                - state
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
          triggers:
            -
              uuid: f8f20063cab947bc8543499b810bece7
              expression: 'last(/Starlink dish by Prom/starlink.state,#1)<>last(/Starlink dish by Prom/starlink.state,#2) and length(last(/Starlink dish by Prom/starlink.state))>0'
              name: 'Starlink status has changed'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: AVERAGE
              description: 'Status has changed. Ack to close'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: status
        -
          uuid: e2e7a46a5ea04091a4fd67734536eeac
          name: 'Starlink status alert install pending'
          type: DEPENDENT
          key: starlink.status_alert_install_pending
          delay: '0'
          description: 'Alert corresponding with bit 7 (bit mask 128) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_install_pending"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
          triggers:
            -
              uuid: 5150a68a99c84bee83eac7fd788e6745
              expression: 'last(/Starlink dish by Prom/starlink.status_alert_install_pending,#3)=1'
              name: 'Starlink alert install pending'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Starlink alert install pending. Ack to close'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: 0e6993064aa744c7b6048bfb6c8c7c9b
          name: 'Starlink status alert is heating'
          type: DEPENDENT
          key: starlink.status_alert_is_heating
          delay: '0'
          description: 'Alert corresponding with bit 8 (bit mask 256) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_is_heating"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
          triggers:
            -
              uuid: d4446b9885844f348897bcb5df522f91
              expression: 'last(/Starlink dish by Prom/starlink.status_alert_is_heating,#3)=1'
              name: 'Starlink alert Terminal is heating'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: INFO
              description: 'Starlink alert Terminal is heating. Ack to close'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: c00dcd92c1824d88902418f65bbc5faa
          name: 'Starlink status alert mast not near vertical'
          type: DEPENDENT
          key: starlink.status_alert_mast_not_near_vertical
          delay: '0'
          description: 'Alert corresponding with bit 4 (bit mask 16) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_mast_not_near_vertical"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
          triggers:
            -
              uuid: 9032a63d5aef462ba0b76160a10922a3
              expression: 'last(/Starlink dish by Prom/starlink.status_alert_mast_not_near_vertical,#3)=1'
              name: 'Starlink alert Terminal mast not near vertical'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Starlink alert Terminal mast not near vertical. Ack to close'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: c7432a9bf7fc4a6e9250b6f71d02bdfc
          name: 'Starlink status alert motors stuck'
          type: DEPENDENT
          key: starlink.status_alert_motors_stuck
          delay: '0'
          description: 'Alert corresponding with bit 0 (bit mask 1) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_motors_stuck"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
          triggers:
            -
              uuid: 866110f20aab42cf88d161ed25cc2261
              expression: 'last(/Starlink dish by Prom/starlink.status_alert_motors_stuck,#3)=1'
              name: 'Starlink alert motors stuck'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'Starlink alert motors stuck. Ack to close'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: 5f71a14067ea444684d24356eea2a8fb
          name: 'Starlink status alert power supply thermal throttle'
          type: DEPENDENT
          key: starlink.status_alert_power_supply_thermal_throttle
          delay: '0'
          description: 'Alert corresponding with bit 9 (bit mask 512) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_power_supply_thermal_throttle"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
        -
          uuid: bcac577ec68245e6a258302534f2acde
          name: 'Starlink status alert roaming'
          type: DEPENDENT
          key: starlink.status_alert_roaming
          delay: '0'
          description: 'Alert corresponding with bit 6 (bit mask 64) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_roaming"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
        -
          uuid: 9860f65e08b646bfaa1bc3ffe9ad1b77
          name: 'Starlink status alert slow ethernet speeds'
          type: DEPENDENT
          key: starlink.status_alert_slow_ethernet_speeds
          delay: '0'
          description: 'Alert corresponding with bit 5 (bit mask 32) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_slow_ethernet_speeds"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
        -
          uuid: 8b1dfc3c63fd44f59155a3174fafd940
          name: 'Starlink status alert thermal shutdown'
          type: DEPENDENT
          key: starlink.status_alert_thermal_shutdown
          delay: '0'
          description: 'Alert corresponding with bit 1 (bit mask 2) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_thermal_shutdown"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
        -
          uuid: 9d33ef5ce4894116a585297ef13d8579
          name: 'Starlink status alert thermal throttle'
          type: DEPENDENT
          key: starlink.status_alert_thermal_throttle
          delay: '0'
          description: 'lert corresponding with bit 2 (bit mask 4) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_thermal_throttle"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
        -
          uuid: 50124293ef7f48dab0892cdf580b78d9
          name: 'Starlink status alert unexpected location'
          type: DEPENDENT
          key: starlink.status_alert_unexpected_location
          delay: '0'
          description: 'Alert corresponding with bit 3 (bit mask 8) in *alerts*.'
          valuemap:
            name: 'Starlink alert'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_alert_unexpected_location"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: alert
        -
          uuid: 9471928fa80440c4afd9f4a25e3203bd
          name: 'Starlink uplink throughput bps'
          type: DEPENDENT
          key: starlink.uplink
          delay: '0'
          value_type: FLOAT
          units: bps
          description: 'Most recent sample value. See bulk history data for detail.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_uplink_throughput_bps"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
            -
              tag: scope
              value: traffic
        -
          uuid: 2a63882f6458498993adcc2883cbafda
          name: 'Starlink uptime'
          type: DEPENDENT
          key: starlink.uptime
          delay: '0'
          value_type: FLOAT
          units: uptime
          description: |
            The amount of time, in seconds, since the user terminal last rebooted.
            
            Starlink uptime in 'N days, hh:mm:ss' format.
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - '{__name__=~"^starlink_status_uptime_seconds(?:_seconds)?$"}'
                - value
                - ''
          master_item:
            key: zbx.starlink.dish.data
          tags:
            -
              tag: component
              value: starlink
          triggers:
            -
              uuid: 4608a14b970746c7902c2034e7b8374c
              expression: 'last(/Starlink dish by Prom/starlink.uptime)<10m'
              name: '{HOST.NAME} has been restarted (uptime < 10m)'
              priority: WARNING
              description: 'Uptime is less than 10 minutes'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: 7a4b25cffa4040858c0026ca1beb73fd
          name: 'Starlink: Get dish data'
          type: HTTP_AGENT
          key: zbx.starlink.dish.data
          history: '0'
          trends: '0'
          value_type: TEXT
          description: 'Getting data from a starlink prometeus exporter - Python project starlink-grpc-tools.'
          url: '{$STARLINK.SCHEME}://{HOST.CONN}:{$STARLINK.PORT}/metrics'
          tags:
            -
              tag: component
              value: raw
          triggers:
            -
              uuid: 756bd2aa891b40d79df8795638f30d60
              expression: 'nodata(/Starlink dish by Prom/zbx.starlink.dish.data,30)=1'
              name: 'starlink_exporter is not available (or no data for 30m)'
              priority: HIGH
              description: 'Failed to fetch starlink metrics from starlink_exporter in time.'
              manual_close: 'YES'
              tags:
                -
                  tag: scope
                  value: availability
      tags:
        -
          tag: class
          value: hardware
        -
          tag: target
          value: starlink
      macros:
        -
          macro: '{$STARLINK.PORT}'
          value: '8080'
        -
          macro: '{$STARLINK.SCHEME}'
          value: http
      dashboards:
        -
          uuid: ba6c008bf8ad4ca2973501188824689e
          name: 'Starlink status'
          pages:
            -
              name: 'Ping & Alerts'
              widgets:
                -
                  type: graph
                  width: '12'
                  height: '6'
                  fields:
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        host: 'Starlink dish by Prom'
                        name: 'Starlink ping'
                -
                  type: graph
                  x: '12'
                  width: '12'
                  height: '6'
                  fields:
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        host: 'Starlink dish by Prom'
                        name: 'Starlink alerts'
            -
              name: Status
              widgets:
                -
                  type: graph
                  width: '10'
                  height: '6'
                  fields:
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        host: 'Starlink dish by Prom'
                        name: 'Starlink traffic'
                -
                  type: item
                  x: '10'
                  'y': '3'
                  width: '10'
                  height: '3'
                  fields:
                    -
                      type: INTEGER
                      name: show
                      value: '2'
                    -
                      type: INTEGER
                      name: adv_conf
                      value: '1'
                    -
                      type: INTEGER
                      name: decimal_size
                      value: '15'
                    -
                      type: INTEGER
                      name: value_size
                      value: '25'
                    -
                      type: STRING
                      name: value_color
                      value: 0040FF
                    -
                      type: ITEM
                      name: itemid
                      value:
                        host: 'Starlink dish by Prom'
                        key: starlink.software_version
                -
                  type: item
                  x: '10'
                  width: '7'
                  height: '3'
                  fields:
                    -
                      type: INTEGER
                      name: show
                      value: '2'
                    -
                      type: INTEGER
                      name: adv_conf
                      value: '1'
                    -
                      type: STRING
                      name: value_color
                      value: 00FF00
                    -
                      type: ITEM
                      name: itemid
                      value:
                        host: 'Starlink dish by Prom'
                        key: starlink.state
                -
                  type: item
                  x: '17'
                  width: '7'
                  height: '3'
                  fields:
                    -
                      type: INTEGER
                      name: show
                      value: '2'
                    -
                      type: INTEGER
                      name: adv_conf
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        host: 'Starlink dish by Prom'
                        key: starlink.uptime
                -
                  type: item
                  x: '20'
                  'y': '3'
                  width: '4'
                  height: '3'
                  fields:
                    -
                      type: INTEGER
                      name: show
                      value: '2'
                    -
                      type: INTEGER
                      name: adv_conf
                      value: '1'
                    -
                      type: INTEGER
                      name: decimal_places
                      value: '0'
                    -
                      type: INTEGER
                      name: decimal_size
                      value: '25'
                    -
                      type: INTEGER
                      name: value_size
                      value: '35'
                    -
                      type: STRING
                      name: value_color
                      value: FF0000
                    -
                      type: ITEM
                      name: itemid
                      value:
                        host: 'Starlink dish by Prom'
                        key: starlink.alerts
        -
          uuid: 2194f8109a73498d8206ce5904c94469
          name: 'Starlink traffic'
          pages:
            -
              widgets:
                -
                  type: graph
                  width: '24'
                  height: '7'
                  fields:
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        host: 'Starlink dish by Prom'
                        name: 'Starlink traffic'
      valuemaps:
        -
          uuid: a943017fbebb4b72a885dd7e17a5530a
          name: 'Starlink alert'
          mappings:
            -
              value: '1'
              newvalue: 'On'
            -
              value: '0'
              newvalue: 'Off'
        -
          uuid: 4b05a06f34934b05a048c64d5dd12097
          name: 'Starlink alerts codes'
          mappings:
            -
              value: '0'
              newvalue: Normal
            -
              value: '1'
              newvalue: 'Motors stuck'
            -
              value: '2'
              newvalue: 'Thermal shutdown'
            -
              value: '4'
              newvalue: 'Thermal throttle'
            -
              value: '8'
              newvalue: 'Unexpected location'
            -
              value: '16'
              newvalue: 'Mast not near vertical'
            -
              value: '32'
              newvalue: 'Slow ethernet speeds'
            -
              value: '64'
              newvalue: Roaming
            -
              value: '128'
              newvalue: 'Install pending'
            -
              value: '256'
              newvalue: 'Is heating'
            -
              value: '257'
              newvalue: 'Unknown ?'
            -
              value: '512'
              newvalue: 'Power supply thermal throttle'
            -
              value: '1024'
              newvalue: 'Is power save idle'
            -
              value: '2048'
              newvalue: 'Moving while not mobile'
            -
              value: '4096'
              newvalue: 'Moving fast while not aviation'
  graphs:
    -
      uuid: e1fcb0b355d242f0acebad9c74a63f4a
      name: 'Starlink alerts'
      show_work_period: 'NO'
      show_triggers: 'NO'
      graph_items:
        -
          drawtype: DOTTED_LINE
          color: 199C0D
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_install_pending
        -
          sortorder: '1'
          drawtype: DOTTED_LINE
          color: F63100
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_is_heating
        -
          sortorder: '2'
          drawtype: DOTTED_LINE
          color: 2774A4
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_mast_not_near_vertical
        -
          sortorder: '3'
          drawtype: DOTTED_LINE
          color: F7941D
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_motors_stuck
        -
          sortorder: '4'
          drawtype: DOTTED_LINE
          color: FC6EA3
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_power_supply_thermal_throttle
        -
          sortorder: '5'
          drawtype: DOTTED_LINE
          color: 6C59DC
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_roaming
        -
          sortorder: '6'
          drawtype: DOTTED_LINE
          color: C7A72D
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_slow_ethernet_speeds
        -
          sortorder: '7'
          drawtype: DOTTED_LINE
          color: BA2A5D
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_thermal_shutdown
        -
          sortorder: '8'
          drawtype: DOTTED_LINE
          color: F230E0
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.status_alert_thermal_throttle
    -
      uuid: 372a22ccff854c5cb92b038debf536b8
      name: 'Starlink alerts codes'
      show_work_period: 'NO'
      show_triggers: 'NO'
      graph_items:
        -
          drawtype: DOTTED_LINE
          color: FF0000
          calc_fnc: MIN
          item:
            host: 'Starlink dish by Prom'
            key: starlink.alerts
    -
      uuid: eae4f9fcfc304441bde0224582153bc5
      name: 'Starlink ping'
      graph_items:
        -
          drawtype: BOLD_LINE
          color: 199C0D
          calc_fnc: ALL
          item:
            host: 'Starlink dish by Prom'
            key: starlink.ping_latency
        -
          sortorder: '1'
          drawtype: BOLD_LINE
          color: F63100
          calc_fnc: ALL
          item:
            host: 'Starlink dish by Prom'
            key: starlink.pop_ping_drop_rate
    -
      uuid: 9c5acfc4e0ad4d62aa3644de07550373
      name: 'Starlink traffic'
      graph_items:
        -
          drawtype: FILLED_REGION
          color: 199C0D
          calc_fnc: ALL
          item:
            host: 'Starlink dish by Prom'
            key: starlink.downlink
        -
          sortorder: '1'
          drawtype: FILLED_REGION
          color: 0040FF
          calc_fnc: ALL
          item:
            host: 'Starlink dish by Prom'
            key: starlink.uplink
